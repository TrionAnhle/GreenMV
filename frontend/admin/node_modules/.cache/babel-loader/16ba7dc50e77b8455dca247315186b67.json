{"ast":null,"code":"var _jsxFileName = \"P:\\\\Thuc-tap\\\\GreenMovie-V3.0\\\\frontend\\\\admin\\\\src\\\\containers\\\\User\\\\AccountSessionPage\\\\AccountSessionPage.js\",\n    _s = $RefreshSig$();\n\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport React, { useState, useEffect } from 'react';\nimport API from '../../utils/request';\nimport { toDateTString } from \"../../utils/date\";\nimport { numberFormat } from '../../utils/number';\nimport { Button } from 'primereact/button';\nimport { Dialog } from 'primereact/dialog';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction AccountSessionPage() {\n  _s();\n\n  var _dataUser, _dataUser2, _data$movie, _data$cinema, _data$cinema2, _data$cinema3;\n\n  const [data, setData] = useState([]);\n  const [selectedRow, setSelectedRow] = useState({});\n  const [displayModal, setDisplayModal] = useState(false);\n  useEffect(() => {\n    API.get('/api/user/receipt/' + localStorage.getItem('id'), {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(res => {\n      setData(res.data.data);\n    }).catch(error => {\n      console.log(error);\n    });\n    setSelectedRow({});\n  }, []);\n\n  const setSelectedRowCustomize = e => {\n    setSelectedRow(e.value);\n  };\n\n  const renderTotal = rowData => {\n    return numberFormat(rowData.cinemaPrice * rowData.tickets.length);\n  };\n\n  const showDetailReceipt = rowData => {\n    setSelectedRow({ ...rowData\n    });\n    setDisplayModal(true);\n  };\n\n  const actionBodyTemplate = rowData => {\n    return /*#__PURE__*/_jsxDEV(Button, {\n      type: \"button\",\n      placeholder: \"Chi ti\\u1EBFt ho\\xE1 \\u0111\\u01A1n\",\n      icon: \"pi pi-search\",\n      onClick: rowData => showDetailReceipt(rowData),\n      className: \"p-button-rounded p-button-info\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Th\\xF4ng tin ho\\xE1 \\u0111\\u01A1n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      header: 'Chi tiết hoá đơn',\n      onHide: () => setDisplayModal(false),\n      visible: displayModal,\n      breakpoints: {\n        '960px': '75vw',\n        '640px': '100vw'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-grid p-col-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-col-6\",\n          children: [\"H\\u1ECD T\\xEAn: \", (_dataUser = dataUser) === null || _dataUser === void 0 ? void 0 : _dataUser.fullName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-col-6\",\n          children: [\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i: \", (_dataUser2 = dataUser) === null || _dataUser2 === void 0 ? void 0 : _dataUser2.phone]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-grid p-col-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-col-6\",\n          children: [\"T\\xEAn phim: \", data === null || data === void 0 ? void 0 : (_data$movie = data.movie) === null || _data$movie === void 0 ? void 0 : _data$movie.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-col-6\",\n          children: [\"Ng\\xE0y gi\\u1EDD: \", toDateTString(data === null || data === void 0 ? void 0 : data.showTime)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-grid p-col-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-col-6\",\n          children: [\"R\\u1EA1p s\\u1ED1: \", data === null || data === void 0 ? void 0 : (_data$cinema = data.cinema) === null || _data$cinema === void 0 ? void 0 : _data$cinema.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-col-6\",\n          children: [\"Lo\\u1EA1i r\\u1EA1p: \", data === null || data === void 0 ? void 0 : (_data$cinema2 = data.cinema) === null || _data$cinema2 === void 0 ? void 0 : _data$cinema2.type, \" - \", data === null || data === void 0 ? void 0 : (_data$cinema3 = data.cinema) === null || _data$cinema3 === void 0 ? void 0 : _data$cinema3.numberSeats]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-grid p-col-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-col-12\",\n          children: [\"Gh\\u1EBF: \", /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: renderNameSeat()\n          }, void 0, false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-grid p-col-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-col-6\",\n          children: [\"S\\u1ED1 l\\u01B0\\u1EE3ng v\\xE9: \", selectedSeat.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-col-6\",\n          children: [\"Th\\xE0nh ti\\u1EC1n: \", numberFormat(selectedRow.cinemaPrice * selectedRow.tickets.length)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-grid p-col-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-col-3\",\n          children: \"Thanh to\\xE1n:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-col-4\",\n          children: \"Ti\\u1EC1n m\\u1EB7t khi nh\\u1EADn v\\xE9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-col-4\",\n          children: \"Qua th\\u1EBB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(DataTable, {\n        value: data,\n        paginator: true,\n        rows: 10,\n        selection: selectedRow,\n        onSelectionChange: setSelectedRowCustomize,\n        selectionMode: \"single\",\n        dataKey: \"id\",\n        stateStorage: \"local\",\n        stateKey: \"dt-state-demo-local\",\n        emptyMessage: \"Kh\\xF4ng c\\xF3 ho\\xE1 \\u0111\\u01A1n\",\n        children: [/*#__PURE__*/_jsxDEV(Column, {\n          field: \"movieName\",\n          header: \"T\\xEAn phim\",\n          sortable: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"cinemaName\",\n          header: \"R\\u1EA1p s\\u1ED1\",\n          sortable: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"cinemaType\",\n          header: \"Lo\\u1EA1i r\\u1EA1p\",\n          sortable: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"showTime\",\n          header: \"Ng\\xE0y gi\\u1EDD chi\\u1EBFu\",\n          body: rowData => toDateTString(rowData.showTime),\n          sortable: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"createdDate\",\n          header: \"Ng\\xE0y \\u0111\\u1EB7t\",\n          body: rowData => toDateTString(rowData.createdDate),\n          sortable: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"price\",\n          header: \"T\\u1ED5ng ti\\u1EC1n\",\n          body: rowData => renderTotal(rowData),\n          style: {\n            right: '0px'\n          },\n          sortable: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          body: rowData => actionBodyTemplate(rowData),\n          headerStyle: {\n            width: '8em',\n            textAlign: 'center'\n          },\n          bodyStyle: {\n            textAlign: 'center',\n            overflow: 'visible'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AccountSessionPage, \"vvMHoQLHl/HQIC+lUd99OP1smLQ=\");\n\n_c = AccountSessionPage;\nexport default AccountSessionPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"AccountSessionPage\");","map":{"version":3,"sources":["P:/Thuc-tap/GreenMovie-V3.0/frontend/admin/src/containers/User/AccountSessionPage/AccountSessionPage.js"],"names":["DataTable","Column","React","useState","useEffect","API","toDateTString","numberFormat","Button","Dialog","AccountSessionPage","data","setData","selectedRow","setSelectedRow","displayModal","setDisplayModal","get","localStorage","getItem","headers","then","res","catch","error","console","log","setSelectedRowCustomize","e","value","renderTotal","rowData","cinemaPrice","tickets","length","showDetailReceipt","actionBodyTemplate","textAlign","dataUser","fullName","phone","movie","name","showTime","cinema","type","numberSeats","renderNameSeat","selectedSeat","createdDate","right","width","overflow"],"mappings":"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","sourcesContent":["import { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport React, { useState,useEffect } from 'react';\r\nimport API from '../../utils/request';\r\nimport { toDateTString } from \"../../utils/date\";\r\nimport {numberFormat} from '../../utils/number';\r\nimport { Button } from 'primereact/button';\r\nimport { Dialog } from 'primereact/dialog';\r\n\r\nfunction AccountSessionPage() {\r\n    const [data, setData] = useState([]);\r\n    const [selectedRow, setSelectedRow] = useState({});\r\n    const [displayModal, setDisplayModal] = useState(false);\r\n\r\n    useEffect(() => {\r\n        API.get('/api/user/receipt/'+localStorage.getItem('id'), \r\n        {\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }})\r\n            .then((res) =>{\r\n                setData(res.data.data);\r\n            })\r\n            .catch((error)=>{\r\n                console.log(error);\r\n        });\r\n        setSelectedRow({});\r\n    }, []);\r\n\r\n    const setSelectedRowCustomize = (e) => {\r\n        setSelectedRow(e.value);\r\n    };\r\n\r\n    const renderTotal = (rowData) =>{\r\n        return numberFormat(rowData.cinemaPrice * rowData.tickets.length);\r\n    }\r\n\r\n    const showDetailReceipt = (rowData) =>{\r\n        setSelectedRow({...rowData})\r\n        setDisplayModal(true);\r\n    }\r\n\r\n    const actionBodyTemplate = (rowData) => {\r\n        return (\r\n            <Button type=\"button\" placeholder=\"Chi tiết hoá đơn\" icon=\"pi pi-search\" onClick={(rowData) => showDetailReceipt(rowData)} className=\"p-button-rounded p-button-info\"></Button>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div style={{textAlign:'center'}}>\r\n            <div className=\"p-mb-4\"><h2>Thông tin hoá đơn</h2></div>\r\n            <Dialog header={'Chi tiết hoá đơn'} onHide={() => setDisplayModal(false)} visible={displayModal} breakpoints={{'960px': '75vw', '640px': '100vw'}}>\r\n            <div className=\"p-grid p-col-12\">\r\n                                <div className=\"p-col-6\">\r\n                                    Họ Tên: {dataUser?.fullName}\r\n                                </div>\r\n                                <div className=\"p-col-6\">\r\n                                    Số điện thoại: {dataUser?.phone}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"p-grid p-col-12\">\r\n                                <div className=\"p-col-6\">\r\n                                    Tên phim: {data?.movie?.name}\r\n                                </div>\r\n                                <div className=\"p-col-6\">\r\n                                    Ngày giờ: {toDateTString(data?.showTime)}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"p-grid p-col-12\">\r\n                                <div className=\"p-col-6\">\r\n                                    Rạp số: {data?.cinema?.name}\r\n                                </div>\r\n                                <div className=\"p-col-6\">\r\n                                    Loại rạp: {data?.cinema?.type} - {data?.cinema?.numberSeats}\r\n                                </div>\r\n                                \r\n                            </div>\r\n                            <div className=\"p-grid p-col-12\" >\r\n                                <div className=\"p-col-12\">\r\n                                    Ghế: <>{renderNameSeat()}</>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"p-grid p-col-12\" >\r\n                                <div className=\"p-col-6\">\r\n                                    Số lượng vé: {selectedSeat.length}\r\n                                </div>\r\n                                <div className=\"p-col-6\">\r\n                                    Thành tiền: {numberFormat(selectedRow.cinemaPrice * selectedRow.tickets.length)}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"p-grid p-col-12\">\r\n                                <div className=\"p-col-3\">\r\n                                    Thanh toán: \r\n                                </div>\r\n                                <div className=\"p-col-4\">\r\n                                    {/* <Checkbox  onChange={() => setTypePayment(true)} checked={typePayment}></Checkbox> */}\r\n                                    Tiền mặt khi nhận vé\r\n                                    \r\n                                </div>\r\n                                <div className=\"p-col-4\">\r\n                                    {/* <Checkbox  onChange={() => setTypePayment(false)} checked={!typePayment}></Checkbox> */}\r\n                                    Qua thẻ\r\n                                </div>\r\n                                \r\n                            </div>\r\n            </Dialog>\r\n            <div className=\"card\">\r\n                <DataTable value={data} paginator rows={10}\r\n                    selection={selectedRow} \r\n                    onSelectionChange={setSelectedRowCustomize} \r\n                    selectionMode=\"single\" \r\n                    dataKey=\"id\"\r\n                    stateStorage=\"local\" \r\n                    stateKey=\"dt-state-demo-local\"\r\n                    emptyMessage=\"Không có hoá đơn\">\r\n                    <Column field=\"movieName\" header=\"Tên phim\" sortable ></Column>\r\n                    <Column field=\"cinemaName\" header=\"Rạp số\" sortable ></Column>\r\n                    <Column field=\"cinemaType\" header=\"Loại rạp\" sortable ></Column>\r\n                    <Column field=\"showTime\" header=\"Ngày giờ chiếu\" body={(rowData) => toDateTString(rowData.showTime)} sortable ></Column>\r\n                    <Column field=\"createdDate\" header=\"Ngày đặt\" body={(rowData) => toDateTString(rowData.createdDate)} sortable></Column>\r\n                    <Column field=\"price\" header=\"Tổng tiền\" body={(rowData) => renderTotal(rowData)} style={{right: '0px'}} sortable ></Column>\r\n                    <Column body={(rowData) => actionBodyTemplate(rowData)} headerStyle={{width: '8em', textAlign: 'center'}} bodyStyle={{textAlign: 'center', overflow: 'visible'}} />\r\n                </DataTable>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AccountSessionPage\r\n"]},"metadata":{},"sourceType":"module"}