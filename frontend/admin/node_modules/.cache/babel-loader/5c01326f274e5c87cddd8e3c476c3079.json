{"ast":null,"code":"var _jsxFileName = \"P:\\\\Thuc-tap\\\\GreenMovie-V3.0\\\\frontend\\\\admin\\\\src\\\\containers\\\\Home\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Layout from \"../../components/common/Layout/Layout\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { navMenu } from \"../../routes\";\nimport API from '../utils/request';\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst getRoutes = () => {\n  return navMenu.map(({\n    id,\n    route,\n    Comp,\n    role\n  }) => role.includes(localStorage.getItem('role')) && /*#__PURE__*/_jsxDEV(Route, {\n    exact: true,\n    path: route,\n    children: /*#__PURE__*/_jsxDEV(Comp, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 13\n    }, this)\n  }, id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 9\n  }, this));\n};\n\nconst Home = props => {\n  _s();\n\n  const [active, setActive] = useState('');\n  const history = useHistory();\n  useEffect(() => {\n    setActive(props.active);\n  }, [props.active]);\n  useEffect(() => {\n    API.get('/api/admin/category', {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).catch(error => {\n      console.log(error.response);\n\n      if (!error.response) {\n        history.push(\"/login\");\n        console.log('ALERT');\n      } else {\n        if (error.response.status === 401) {\n          history.push(\"/login\");\n        }\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Layout, {\n      children: [navMenu.map(({\n        id,\n        route,\n        name,\n        subMenu,\n        role\n      }) => role.includes(localStorage.getItem('role')) && /*#__PURE__*/_jsxDEV(Layout.Sidebar, {\n        route: route,\n        title: name,\n        subMenu: subMenu,\n        to: route,\n        active: id === active,\n        onActive: () => setActive(id)\n      }, id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(Switch, {\n        children: getRoutes()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Home, \"rQEkhCabcDUe+tqhRx/taG55vaM=\", false, function () {\n  return [useHistory];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["P:/Thuc-tap/GreenMovie-V3.0/frontend/admin/src/containers/Home/Home.js"],"names":["React","useEffect","useState","Layout","BrowserRouter","Router","Switch","Route","navMenu","API","useHistory","getRoutes","map","id","route","Comp","role","includes","localStorage","getItem","Home","props","active","setActive","history","get","headers","catch","error","console","log","response","push","status","name","subMenu"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Layout from \"../../components/common/Layout/Layout\";\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n} from \"react-router-dom\";\r\nimport { navMenu } from \"../../routes\";\r\nimport API from '../utils/request'\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst getRoutes = () => {\r\n    return navMenu.map(({ id, route, Comp, role }) => (\r\n        role.includes(localStorage.getItem('role')) &&\r\n        <Route key={id} exact path={route}>\r\n            <Comp />\r\n        </Route>\r\n    ))\r\n}\r\n\r\nconst Home = (props) => {\r\n\r\n    const [active, setActive] = useState('');\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        setActive(props.active);\r\n    }, [props.active]);\r\n\r\n    useEffect(() => {\r\n        API.get('/api/admin/category', \r\n        {\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }}).catch((error)=>{\r\n            console.log(error.response);\r\n\r\n            if(!error.response){\r\n                history.push(\"/login\");\r\n                console.log('ALERT');\r\n            }\r\n            else{\r\n                if(error.response.status === 401){\r\n                    history.push(\"/login\");\r\n                }\r\n            }\r\n        });\r\n    }, [])\r\n\r\n    return (\r\n        <Router>\r\n            <Layout>\r\n                {navMenu.map(({ id, route, name, subMenu, role }) => (\r\n                    role.includes(localStorage.getItem('role')) &&\r\n                    <Layout.Sidebar\r\n                        key={id}\r\n                        route={route}\r\n                        title={name}\r\n                        subMenu={subMenu}\r\n                        to={route}\r\n                        active={id === active}\r\n                        onActive={() => setActive(id)} />\r\n                ))}\r\n                <Switch>{getRoutes()}</Switch>\r\n            </Layout>\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}