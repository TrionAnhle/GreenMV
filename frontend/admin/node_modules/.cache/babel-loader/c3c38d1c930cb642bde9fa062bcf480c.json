{"ast":null,"code":"var _jsxFileName = \"P:\\\\Thuc-tap\\\\GreenMovie-V3.0\\\\frontend\\\\admin\\\\src\\\\containers\\\\Receipts\\\\Receipt.js\",\n    _s = $RefreshSig$();\n\nimport { Panel } from 'primereact/panel';\nimport React, { useState, useEffect, useRef } from 'react';\nimport QrReader from 'react-qr-reader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Receipt() {\n  _s();\n\n  const [result, setResult] = useState('Not Found');\n  const toast = useRef(null);\n  const [data, setData] = useState({});\n  const [listCategories, setListCategories] = useState([]);\n  const [selectedList, setSelectedList] = useState({});\n  const [displayModal, setDisplayModal] = useState(false);\n  const [isInsert, setIsInsert] = useState(true);\n  const [checked, setChecked] = useState(false);\n  useEffect(() => {\n    reloadData();\n    getAllCateogries();\n  }, []);\n\n  const setSelectedRowCustomize = e => {\n    setSelectedList(e.value);\n  };\n\n  const getAllCateogries = () => {\n    API.get('/api/admin/category', {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(res => {\n      setListCategories(res.data.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const wait = ms => {\n    return new Promise(resolve => {\n      setTimeout(resolve, ms);\n    });\n  };\n\n  const reloadData = async () => {\n    API.get('/api/admin/movie', {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(await wait(1000)).then(res => {\n      setData(res.data.data);\n      console.log(res.data.data);\n    }).catch(error => {\n      console.log(error);\n    });\n    setSelectedList({});\n  };\n\n  const deleteItem = () => {\n    API.post('/api/admin/movie/delete', [selectedList.id], {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(res => {\n      if (res.data.ok) {\n        toast.current.show({\n          severity: 'success',\n          summary: 'Thông báo',\n          detail: res.data.message,\n          life: 3000\n        });\n      } else {\n        toast.current.show({\n          severity: 'warn',\n          summary: 'Thông báo',\n          detail: res.data.message,\n          life: 3000\n        });\n      }\n\n      reloadData();\n    }).catch(error => {\n      console.log(error);\n      toast.current.show({\n        severity: 'error',\n        summary: 'Thông báo',\n        detail: 'Lỗi hệ thống',\n        life: 3000\n      });\n    });\n  };\n\n  const rejectFunc = () => {};\n\n  const confirm = () => {\n    if (selectedList.id == null) {\n      toast.current.show({\n        severity: 'warn',\n        summary: 'Thông báo',\n        detail: 'Bạn chưa chọn dòng cần xoá.',\n        life: 3000\n      });\n    } else confirmDialog({\n      message: 'Bạn có muốn xoá - Phim: ' + selectedList.name + ' ? ',\n      header: 'Thông báo',\n      icon: 'pi pi-exclamation-triangle',\n      accept: () => deleteItem(),\n      reject: () => rejectFunc()\n    });\n  };\n\n  const formik = useFormik({\n    initialValues: {\n      id: '',\n      name: '',\n      description: '',\n      pathVideo: '',\n      screenTime: 0,\n      isShowing: true,\n      categoryId: '',\n      pathThumbnail: '',\n      base64: ''\n    },\n    validate: data => {\n      const errors = {};\n\n      if (!data.name) {\n        errors.name = 'Tên phim không được để trống.';\n      }\n\n      if (isInsert && !data.base64) {\n        errors.pathThumbnail = 'Ảnh chưa được upload.';\n      }\n\n      if (!data.categoryId) {\n        errors.categoryId = 'Loại phim không được thiếu.';\n      }\n\n      return errors;\n    },\n    onSubmit: data => {\n      console.log(data);\n      data.isShowing = checked;\n      API.post('/api/admin/movie', data, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      }).then(res => {\n        if (res.data.ok) {\n          toast.current.show({\n            severity: 'success',\n            summary: 'Thông báo',\n            detail: res.data.message,\n            life: 3000\n          });\n          reloadData();\n          setDisplayModal(false);\n        } else {\n          toast.current.show({\n            severity: 'warn',\n            summary: 'Thông báo',\n            detail: res.data.message,\n            life: 3000\n          });\n        }\n      }).catch(error => {\n        console.log(error);\n        toast.current.show({\n          severity: 'error',\n          summary: 'Thông báo',\n          detail: 'Lỗi hệ thống',\n          life: 3000\n        });\n      });\n    }\n  });\n\n  const footer = /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      label: isInsert ? 'Thêm' : 'Cập nhật',\n      icon: \"pi pi-check\",\n      onClick: formik.handleSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      label: \"Hu\\u1EF7\",\n      icon: \"pi pi-times\",\n      onClick: () => setDisplayModal(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 9\n  }, this);\n\n  const create = () => {\n    setDisplayModal(true);\n    setIsInsert(true);\n    formik.setFieldValue('id', '');\n    formik.setFieldValue('name', '');\n    formik.setFieldValue('description', '');\n    formik.setFieldValue('pathVideo', '');\n    formik.setFieldValue('screenTime', 1);\n    setChecked(false);\n    formik.setFieldValue('categoryId', '');\n    formik.setFieldValue('pathThumbnail', '');\n    formik.setFieldValue('base64', '');\n  };\n\n  const update = () => {\n    if (selectedList.id == null) {\n      toast.current.show({\n        severity: 'warn',\n        summary: 'Thông báo',\n        detail: 'Bạn chưa chọn dòng cần cập nhật.',\n        life: 3000\n      });\n    } else {\n      setDisplayModal(true);\n      setIsInsert(false);\n      formik.resetForm();\n      API.get('/api/admin/movie/' + selectedList.id, {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      }).then(res => {\n        console.log(res.data.data);\n        formik.setFieldValue('id', res.data.data[0].id);\n        formik.setFieldValue('name', res.data.data[0].name);\n        formik.setFieldValue('description', res.data.data[0].description);\n        formik.setFieldValue('pathVideo', res.data.data[0].pathVideo);\n        formik.setFieldValue('screenTime', res.data.data[0].screenTime);\n        setChecked(res.data.data[0].isShowing);\n        formik.setFieldValue('categoryId', res.data.data[0].category[0].id);\n      }).catch(error => {\n        console.log(error);\n      });\n      formik.setFieldValue('pathThumbnail', '');\n      formik.setFieldValue('base64', '');\n    }\n  };\n\n  const convertBase64 = file => {\n    return new Promise((resolve, reject) => {\n      const fileReader = new FileReader();\n      fileReader.readAsDataURL(file);\n\n      fileReader.onload = () => {\n        resolve(fileReader.result);\n      };\n\n      fileReader.onerror = error => {\n        reject(error);\n      };\n    });\n  };\n\n  const onUpload = async e => {\n    const file = e.files[0];\n    const base64 = await convertBase64(file);\n    toast.current.show({\n      severity: 'success',\n      summary: 'Thông báo',\n      detail: 'Upload ảnh thành công',\n      life: 3000\n    });\n    formik.setFieldValue('pathThumbnail', e.files[0].name);\n    formik.setFieldValue('base64', base64);\n  };\n\n  const imageBodyTemplate = rowData => {\n    return /*#__PURE__*/_jsxDEV(\"img\", {\n      src: `${APPCONFIG.BASE_URL_IMAGE}${rowData.pathThumbnail}`,\n      onError: e => e.target.src = 'https://www.primefaces.org/wp-content/uploads/2020/05/placeholder.png',\n      alt: rowData.pathThumbnail,\n      style: {\n        width: '100px',\n        boxShadow: '0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 16\n    }, this);\n  };\n\n  const statusBodyTemplate = rowData => {\n    return rowData.isShowing ? /*#__PURE__*/_jsxDEV(Button, {\n      label: \"\\u0110ang c\\xF4ng chi\\u1EBFu\",\n      className: \"p-button-warning\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(Button, {\n      label: \"Kh\\xF4ng chi\\u1EBFu\",\n      className: \"p-button-info\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 13\n    }, this);\n  };\n\n  const handleScan = data => {\n    if (data) {\n      setResult(data);\n    }\n  };\n\n  const handleError = err => {\n    console.error(err);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Panel, {\n    header: \"Danh s\\xE1ch c\\xE1c phim\",\n    children: [/*#__PURE__*/_jsxDEV(Toast, {\n      ref: toast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-field p-mr-2\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          label: \"Th\\xEAm\",\n          icon: \"pi pi-plus\",\n          className: \"p-button-success\",\n          onClick: create\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-field p-mr-2\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          label: \"S\\u1EEDa\",\n          icon: \"pi pi-pencil\",\n          className: \"p-button-info\",\n          onClick: update\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-field p-mr-2\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          label: \"Xo\\xE1\",\n          icon: \"pi pi-times\",\n          className: \"p-button-danger\",\n          onClick: confirm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-grid\",\n      children: /*#__PURE__*/_jsxDEV(Dialog, {\n        header: isInsert ? 'Thêm mới' : 'Cập nhật',\n        maximizable: true,\n        onHide: () => setDisplayModal(false),\n        visible: displayModal,\n        footer: footer,\n        breakpoints: {\n          '960px': '75vw',\n          '640px': '100vw'\n        },\n        style: {\n          width: '50vw'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: formik.handleSubmit,\n          className: \"p-fluid\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-field p-mt-4 p-col-6 \",\n              children: [!isInsert ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-grid p-mb-5\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: `${APPCONFIG.BASE_URL_IMAGE}${selectedList.pathThumbnail}`,\n                  className: \"p-mt-3 p-mb-3 center-image\",\n                  alt: selectedList.pathThumbnail,\n                  style: {\n                    width: '200px',\n                    height: 'auto',\n                    boxShadow: '0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 37\n              }, this) : \"\", /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-grid p-mr-1 p-ml-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"p-error p-d-block\",\n                  children: formik.touched.pathThumbnail ? formik.errors.pathThumbnail : ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(FileUpload, {\n                  name: \"demo\",\n                  url: \"https://primefaces.org/primereact/showcase/upload.php\",\n                  uploadOptions: false,\n                  style: {\n                    width: '100%'\n                  },\n                  onUpload: onUpload,\n                  accept: \"image/*\",\n                  maxFileSize: 1000000,\n                  emptyTemplate: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"p-m-0\",\n                    children: \"K\\xE9o th\\u1EA3 \\u1EA3nh v\\xE0o \\u0111\\xE2y \\u0111\\u1EC3 upload\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 56\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-field p-mt-4 p-col-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-grid\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-col-12\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"name\",\n                    class: \"p-mb-2\",\n                    children: \"T\\xEAn phim\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(InputText, {\n                    id: \"name\",\n                    name: \"name\",\n                    value: formik.values.name,\n                    onChange: formik.handleChange,\n                    autoFocus: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"p-error p-d-block\",\n                    children: formik.touched.name ? formik.errors.name : ''\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-grid p-mt-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-col-12\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"pathVideo\",\n                    class: \"p-mb-2\",\n                    children: \"Link video youtube\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(InputText, {\n                    id: \"pathVideo\",\n                    value: formik.values.pathVideo,\n                    onChange: formik.handleChange,\n                    autoFocus: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-grid p-mt-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-col-12\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"categoryId\",\n                    class: \"p-mb-2\",\n                    children: \"Th\\u1EC3 lo\\u1EA1i\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 298,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n                    id: \"categoryId\",\n                    name: \"categoryId\",\n                    placeholder: 'Chọn loại phim',\n                    options: listCategories,\n                    optionLabel: \"name\",\n                    optionValue: \"id\",\n                    ...formik.getFieldProps('categoryId'),\n                    onChange: e => {\n                      formik.handleChange(e);\n                    },\n                    className: \"p-inputtext-sm\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"p-error p-d-block\",\n                    children: formik.touched.categoryId ? formik.errors.categoryId : ''\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-grid p-mt-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-col-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"screenTime\",\n                    class: \"p-mb-2\",\n                    children: \"Th\\u1EDDi l\\u01B0\\u1EE3ng phim(ph\\xFAt)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(InputNumber, {\n                    id: \"screenTime\",\n                    name: \"screenTime\",\n                    value: formik.values.screenTime,\n                    onValueChange: formik.handleChange,\n                    mode: \"decimal\",\n                    autoFocus: true,\n                    showButtons: true,\n                    min: 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-col-6 p-mt-5\",\n                  children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n                    id: \"isShowing\",\n                    onChange: e => setChecked(e.checked),\n                    checked: checked\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"isShowing\",\n                    className: \"p-checkbox-label\",\n                    children: \" \\u0110ang c\\xF4ng chi\\u1EBFu\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-grid p-mt-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"p-col-12\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"description\",\n                    className: \"p-checkbox-label\",\n                    children: \"M\\xF4 t\\u1EA3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(InputTextarea, {\n                    value: formik.values.description,\n                    id: \"description\",\n                    onChange: formik.handleChange,\n                    rows: 5,\n                    cols: 30,\n                    autoResize: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 330,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"datatable-templating-demo\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: /*#__PURE__*/_jsxDEV(DataTable, {\n          value: data,\n          paginator: true,\n          rows: 3,\n          scrollable: true,\n          scrollHeight: \"500px\",\n          selection: selectedList,\n          onSelectionChange: setSelectedRowCustomize,\n          selectionMode: \"single\",\n          dataKey: \"id\",\n          stateStorage: \"local\",\n          stateKey: \"dt-state-demo-local\",\n          emptyMessage: \"Kh\\xF4ng c\\xF3 phim n\\xE0o n\\xE0o\",\n          children: [/*#__PURE__*/_jsxDEV(Column, {\n            header: \"\\u1EA2nh\",\n            body: imageBodyTemplate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"name\",\n            header: \"T\\xEAn phim\",\n            sortable: true,\n            filter: true,\n            filterPlaceholder: \"Search by name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"screenTime\",\n            header: \"Th\\u1EDDi l\\u01B0\\u1EE3ng\",\n            sortable: true,\n            filter: true,\n            filterPlaceholder: \"Search by name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"isShowing\",\n            header: \"Tr\\u1EA1ng th\\xE1i\",\n            sortable: true,\n            body: statusBodyTemplate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"createdDate\",\n            header: \"Ng\\xE0y t\\u1EA1o\",\n            body: rowData => toDateTimeString(rowData.createdDate),\n            sortable: true,\n            filter: true,\n            filterPlaceholder: \"Search by name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"createdBy\",\n            header: \"Ng\\u01B0\\u1EDDi t\\u1EA1o\",\n            sortable: true,\n            filter: true,\n            filterPlaceholder: \"Search by name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"updateDate\",\n            header: \"Ng\\xE0y c\\u1EADp nh\\u1EADt\",\n            body: rowData => toDateTimeString(rowData.updateDate),\n            sortable: true,\n            filter: true,\n            filterPlaceholder: \"Search by name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Column, {\n            field: \"updateBy\",\n            header: \"Ng\\u01B0\\u1EDDi c\\u1EADp nh\\u1EADt\",\n            sortable: true,\n            filter: true,\n            filterPlaceholder: \"Search by name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 249,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Receipt, \"hTBR8Rs2wxGT2lK2eWXqyjW6UaY=\", true);\n\n_c = Receipt;\n\nvar _c;\n\n$RefreshReg$(_c, \"Receipt\");","map":{"version":3,"sources":["P:/Thuc-tap/GreenMovie-V3.0/frontend/admin/src/containers/Receipts/Receipt.js"],"names":["Panel","React","useState","useEffect","useRef","QrReader","Receipt","result","setResult","toast","data","setData","listCategories","setListCategories","selectedList","setSelectedList","displayModal","setDisplayModal","isInsert","setIsInsert","checked","setChecked","reloadData","getAllCateogries","setSelectedRowCustomize","e","value","API","get","headers","localStorage","getItem","then","res","catch","error","console","log","wait","ms","Promise","resolve","setTimeout","deleteItem","post","id","ok","current","show","severity","summary","detail","message","life","rejectFunc","confirm","confirmDialog","name","header","icon","accept","reject","formik","useFormik","initialValues","description","pathVideo","screenTime","isShowing","categoryId","pathThumbnail","base64","validate","errors","onSubmit","footer","handleSubmit","create","setFieldValue","update","resetForm","category","convertBase64","file","fileReader","FileReader","readAsDataURL","onload","onerror","onUpload","files","imageBodyTemplate","rowData","APPCONFIG","BASE_URL_IMAGE","target","src","width","boxShadow","statusBodyTemplate","handleScan","handleError","err","height","touched","values","handleChange","getFieldProps","toDateTimeString","createdDate","updateDate"],"mappings":";;;AAAA,SAASA,KAAT,QAAsB,kBAAtB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAAyBC,SAAzB,EAAmCC,MAAnC,QAAiD,OAAjD;AACA,OAAOC,QAAP,MAAqB,iBAArB;;AAEA,eAAe,SAASC,OAAT,GAAmB;AAAA;;AAC9B,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBN,QAAQ,CAAC,WAAD,CAApC;AAEA,QAAMO,KAAK,GAAGL,MAAM,CAAC,IAAD,CAApB;AACA,QAAM,CAACM,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACU,cAAD,EAAiBC,iBAAjB,IAAsCX,QAAQ,CAAC,EAAD,CAApD;AACA,QAAM,CAACY,YAAD,EAAeC,eAAf,IAAkCb,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACc,YAAD,EAAeC,eAAf,IAAkCf,QAAQ,CAAC,KAAD,CAAhD;AACA,QAAM,CAACgB,QAAD,EAAWC,WAAX,IAA0BjB,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAACkB,OAAD,EAAUC,UAAV,IAAwBnB,QAAQ,CAAC,KAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZmB,IAAAA,UAAU;AACVC,IAAAA,gBAAgB;AACnB,GAHQ,EAGN,EAHM,CAAT;;AAKA,QAAMC,uBAAuB,GAAIC,CAAD,IAAO;AACnCV,IAAAA,eAAe,CAACU,CAAC,CAACC,KAAH,CAAf;AACH,GAFD;;AAGA,QAAMH,gBAAgB,GAAG,MAAK;AAC1BI,IAAAA,GAAG,CAACC,GAAJ,CAAQ,qBAAR,EACA;AACIC,MAAAA,OAAO,EAAE;AACL,yBAAkB,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AADpD;AADb,KADA,EAKKC,IALL,CAKWC,GAAD,IAAQ;AACVpB,MAAAA,iBAAiB,CAACoB,GAAG,CAACvB,IAAJ,CAASA,IAAV,CAAjB;AACH,KAPL,EAQKwB,KARL,CAQYC,KAAD,IAAS;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACP,KAVD;AAWH,GAZD;;AAaA,QAAMG,IAAI,GAAGC,EAAD,IAAQ;AAChB,WAAO,IAAIC,OAAJ,CAAcC,OAAD,IAAa;AAACC,MAAAA,UAAU,CAACD,OAAD,EAAUF,EAAV,CAAV;AAAwB,KAAnD,CAAP;AACH,GAFD;;AAIA,QAAMjB,UAAU,GAAG,YAAW;AAC1BK,IAAAA,GAAG,CAACC,GAAJ,CAAQ,kBAAR,EACA;AACIC,MAAAA,OAAO,EAAE;AACL,yBAAkB,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AADpD;AADb,KADA,EAKKC,IALL,CAKW,MAAOM,IAAI,CAAC,IAAD,CALtB,EAMKN,IANL,CAMWC,GAAD,IAAQ;AACVtB,MAAAA,OAAO,CAACsB,GAAG,CAACvB,IAAJ,CAASA,IAAV,CAAP;AACA0B,MAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACvB,IAAJ,CAASA,IAArB;AACH,KATL,EAUKwB,KAVL,CAUYC,KAAD,IAAS;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACP,KAZD;AAaApB,IAAAA,eAAe,CAAC,EAAD,CAAf;AACH,GAfD;;AAiBA,QAAM4B,UAAU,GAAG,MAAM;AACrBhB,IAAAA,GAAG,CAACiB,IAAJ,CAAS,yBAAT,EAAoC,CAAC9B,YAAY,CAAC+B,EAAd,CAApC,EACA;AACIhB,MAAAA,OAAO,EAAE;AACL,yBAAkB,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AADpD;AADb,KADA,EAKKC,IALL,CAKWC,GAAD,IAAQ;AACV,UAAGA,GAAG,CAACvB,IAAJ,CAASoC,EAAZ,EAAe;AACXrC,QAAAA,KAAK,CAACsC,OAAN,CAAcC,IAAd,CAAmB;AAACC,UAAAA,QAAQ,EAAC,SAAV;AAAqBC,UAAAA,OAAO,EAAE,WAA9B;AAA2CC,UAAAA,MAAM,EAAElB,GAAG,CAACvB,IAAJ,CAAS0C,OAA5D;AAAqEC,UAAAA,IAAI,EAAE;AAA3E,SAAnB;AACH,OAFD,MAEK;AACD5C,QAAAA,KAAK,CAACsC,OAAN,CAAcC,IAAd,CAAmB;AAACC,UAAAA,QAAQ,EAAC,MAAV;AAAkBC,UAAAA,OAAO,EAAE,WAA3B;AAAwCC,UAAAA,MAAM,EAAElB,GAAG,CAACvB,IAAJ,CAAS0C,OAAzD;AAAkEC,UAAAA,IAAI,EAAE;AAAxE,SAAnB;AACH;;AACD/B,MAAAA,UAAU;AACb,KAZL,EAaKY,KAbL,CAaYC,KAAD,IAAS;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA1B,MAAAA,KAAK,CAACsC,OAAN,CAAcC,IAAd,CAAmB;AAACC,QAAAA,QAAQ,EAAC,OAAV;AAAmBC,QAAAA,OAAO,EAAE,WAA5B;AAAyCC,QAAAA,MAAM,EAAC,cAAhD;AAAgEE,QAAAA,IAAI,EAAE;AAAtE,OAAnB;AACP,KAhBD;AAiBH,GAlBD;;AAmBA,QAAMC,UAAU,GAAG,MAAK,CAEvB,CAFD;;AAIA,QAAMC,OAAO,GAAG,MAAM;AAClB,QAAGzC,YAAY,CAAC+B,EAAb,IAAmB,IAAtB,EAA2B;AACvBpC,MAAAA,KAAK,CAACsC,OAAN,CAAcC,IAAd,CAAmB;AAACC,QAAAA,QAAQ,EAAC,MAAV;AAAkBC,QAAAA,OAAO,EAAE,WAA3B;AAAwCC,QAAAA,MAAM,EAAE,6BAAhD;AAA+EE,QAAAA,IAAI,EAAE;AAArF,OAAnB;AACH,KAFD,MAGIG,aAAa,CAAC;AACVJ,MAAAA,OAAO,EAAE,6BAA2BtC,YAAY,CAAC2C,IAAxC,GAA6C,KAD5C;AAEVC,MAAAA,MAAM,EAAE,WAFE;AAGVC,MAAAA,IAAI,EAAE,4BAHI;AAIVC,MAAAA,MAAM,EAAE,MAAMjB,UAAU,EAJd;AAKVkB,MAAAA,MAAM,EAAE,MAAMP,UAAU;AALd,KAAD,CAAb;AAOP,GAXD;;AAaA,QAAMQ,MAAM,GAAGC,SAAS,CAAC;AACrBC,IAAAA,aAAa,EAAE;AACXnB,MAAAA,EAAE,EAAE,EADO;AAEXY,MAAAA,IAAI,EAAE,EAFK;AAGXQ,MAAAA,WAAW,EAAE,EAHF;AAIXC,MAAAA,SAAS,EAAE,EAJA;AAKXC,MAAAA,UAAU,EAAE,CALD;AAMXC,MAAAA,SAAS,EAAE,IANA;AAOXC,MAAAA,UAAU,EAAE,EAPD;AAQXC,MAAAA,aAAa,EAAG,EARL;AASXC,MAAAA,MAAM,EAAE;AATG,KADM;AAYrBC,IAAAA,QAAQ,EAAG9D,IAAD,IAAU;AAChB,YAAM+D,MAAM,GAAG,EAAf;;AACA,UAAI,CAAC/D,IAAI,CAAC+C,IAAV,EAAgB;AACZgB,QAAAA,MAAM,CAAChB,IAAP,GAAc,+BAAd;AACH;;AACD,UAAGvC,QAAQ,IAAI,CAACR,IAAI,CAAC6D,MAArB,EAA4B;AACxBE,QAAAA,MAAM,CAACH,aAAP,GAAuB,uBAAvB;AACH;;AACD,UAAI,CAAC5D,IAAI,CAAC2D,UAAV,EAAsB;AAClBI,QAAAA,MAAM,CAACJ,UAAP,GAAoB,6BAApB;AACH;;AACD,aAAOI,MAAP;AACH,KAxBoB;AAyBrBC,IAAAA,QAAQ,EAAGhE,IAAD,IAAU;AAChB0B,MAAAA,OAAO,CAACC,GAAR,CAAY3B,IAAZ;AACAA,MAAAA,IAAI,CAAC0D,SAAL,GAAiBhD,OAAjB;AACAO,MAAAA,GAAG,CAACiB,IAAJ,CAAS,kBAAT,EAA6BlC,IAA7B,EACA;AACImB,QAAAA,OAAO,EAAE;AACL,2BAAkB,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AADpD;AADb,OADA,EAKKC,IALL,CAKWC,GAAD,IAAQ;AACV,YAAGA,GAAG,CAACvB,IAAJ,CAASoC,EAAZ,EAAe;AACXrC,UAAAA,KAAK,CAACsC,OAAN,CAAcC,IAAd,CAAmB;AAACC,YAAAA,QAAQ,EAAC,SAAV;AAAqBC,YAAAA,OAAO,EAAE,WAA9B;AAA2CC,YAAAA,MAAM,EAAElB,GAAG,CAACvB,IAAJ,CAAS0C,OAA5D;AAAqEC,YAAAA,IAAI,EAAE;AAA3E,WAAnB;AACA/B,UAAAA,UAAU;AACVL,UAAAA,eAAe,CAAC,KAAD,CAAf;AACH,SAJD,MAIK;AACDR,UAAAA,KAAK,CAACsC,OAAN,CAAcC,IAAd,CAAmB;AAACC,YAAAA,QAAQ,EAAC,MAAV;AAAkBC,YAAAA,OAAO,EAAE,WAA3B;AAAwCC,YAAAA,MAAM,EAAElB,GAAG,CAACvB,IAAJ,CAAS0C,OAAzD;AAAkEC,YAAAA,IAAI,EAAE;AAAxE,WAAnB;AACH;AAEJ,OAdL,EAeKnB,KAfL,CAeYC,KAAD,IAAS;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA1B,QAAAA,KAAK,CAACsC,OAAN,CAAcC,IAAd,CAAmB;AAACC,UAAAA,QAAQ,EAAC,OAAV;AAAmBC,UAAAA,OAAO,EAAE,WAA5B;AAAyCC,UAAAA,MAAM,EAAC,cAAhD;AAAgEE,UAAAA,IAAI,EAAE;AAAtE,SAAnB;AACP,OAlBD;AAmBH;AA/CoB,GAAD,CAAxB;;AAkDA,QAAMsB,MAAM,gBACR;AAAA,4BACI,QAAC,MAAD;AAAQ,MAAA,KAAK,EAAEzD,QAAQ,GAAG,MAAH,GAAW,UAAlC;AAA8C,MAAA,IAAI,EAAC,aAAnD;AAAiE,MAAA,OAAO,EAAE4C,MAAM,CAACc;AAAjF;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,QAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,UAAd;AAAoB,MAAA,IAAI,EAAC,aAAzB;AAAuC,MAAA,OAAO,EAAE,MAAK3D,eAAe,CAAC,KAAD;AAApE;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;;AAOA,QAAM4D,MAAM,GAAG,MAAK;AAChB5D,IAAAA,eAAe,CAAC,IAAD,CAAf;AACAE,IAAAA,WAAW,CAAC,IAAD,CAAX;AACA2C,IAAAA,MAAM,CAACgB,aAAP,CAAqB,IAArB,EAA4B,EAA5B;AACAhB,IAAAA,MAAM,CAACgB,aAAP,CAAqB,MAArB,EAA8B,EAA9B;AACAhB,IAAAA,MAAM,CAACgB,aAAP,CAAqB,aAArB,EAAqC,EAArC;AACAhB,IAAAA,MAAM,CAACgB,aAAP,CAAqB,WAArB,EAAmC,EAAnC;AACAhB,IAAAA,MAAM,CAACgB,aAAP,CAAqB,YAArB,EAAoC,CAApC;AACAzD,IAAAA,UAAU,CAAC,KAAD,CAAV;AACAyC,IAAAA,MAAM,CAACgB,aAAP,CAAqB,YAArB,EAAoC,EAApC;AAEAhB,IAAAA,MAAM,CAACgB,aAAP,CAAqB,eAArB,EAAuC,EAAvC;AACAhB,IAAAA,MAAM,CAACgB,aAAP,CAAqB,QAArB,EAAgC,EAAhC;AAEH,GAdD;;AAgBA,QAAMC,MAAM,GAAG,MAAK;AAChB,QAAGjE,YAAY,CAAC+B,EAAb,IAAmB,IAAtB,EAA2B;AACvBpC,MAAAA,KAAK,CAACsC,OAAN,CAAcC,IAAd,CAAmB;AAACC,QAAAA,QAAQ,EAAC,MAAV;AAAkBC,QAAAA,OAAO,EAAE,WAA3B;AAAwCC,QAAAA,MAAM,EAAE,kCAAhD;AAAoFE,QAAAA,IAAI,EAAE;AAA1F,OAAnB;AACH,KAFD,MAEK;AACDpC,MAAAA,eAAe,CAAC,IAAD,CAAf;AACAE,MAAAA,WAAW,CAAC,KAAD,CAAX;AACA2C,MAAAA,MAAM,CAACkB,SAAP;AAEArD,MAAAA,GAAG,CAACC,GAAJ,CAAQ,sBAAoBd,YAAY,CAAC+B,EAAzC,EACA;AACIhB,QAAAA,OAAO,EAAE;AACL,2BAAkB,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AADpD;AADb,OADA,EAKKC,IALL,CAKWC,GAAD,IAAQ;AACVG,QAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACvB,IAAJ,CAASA,IAArB;AACAoD,QAAAA,MAAM,CAACgB,aAAP,CAAqB,IAArB,EAA4B7C,GAAG,CAACvB,IAAJ,CAASA,IAAT,CAAc,CAAd,EAAiBmC,EAA7C;AACAiB,QAAAA,MAAM,CAACgB,aAAP,CAAqB,MAArB,EAA8B7C,GAAG,CAACvB,IAAJ,CAASA,IAAT,CAAc,CAAd,EAAiB+C,IAA/C;AACAK,QAAAA,MAAM,CAACgB,aAAP,CAAqB,aAArB,EAAqC7C,GAAG,CAACvB,IAAJ,CAASA,IAAT,CAAc,CAAd,EAAiBuD,WAAtD;AACAH,QAAAA,MAAM,CAACgB,aAAP,CAAqB,WAArB,EAAmC7C,GAAG,CAACvB,IAAJ,CAASA,IAAT,CAAc,CAAd,EAAiBwD,SAApD;AACAJ,QAAAA,MAAM,CAACgB,aAAP,CAAqB,YAArB,EAAoC7C,GAAG,CAACvB,IAAJ,CAASA,IAAT,CAAc,CAAd,EAAiByD,UAArD;AACA9C,QAAAA,UAAU,CAACY,GAAG,CAACvB,IAAJ,CAASA,IAAT,CAAc,CAAd,EAAiB0D,SAAlB,CAAV;AACAN,QAAAA,MAAM,CAACgB,aAAP,CAAqB,YAArB,EAAoC7C,GAAG,CAACvB,IAAJ,CAASA,IAAT,CAAc,CAAd,EAAiBuE,QAAjB,CAA0B,CAA1B,EAA6BpC,EAAjE;AACH,OAdL,EAeKX,KAfL,CAeYC,KAAD,IAAS;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACP,OAjBD;AAmBA2B,MAAAA,MAAM,CAACgB,aAAP,CAAqB,eAArB,EAAuC,EAAvC;AACAhB,MAAAA,MAAM,CAACgB,aAAP,CAAqB,QAArB,EAAgC,EAAhC;AACH;AACJ,GA9BD;;AA+BA,QAAMI,aAAa,GAAIC,IAAD,IAAU;AAC5B,WAAO,IAAI3C,OAAJ,CAAY,CAACC,OAAD,EAAUoB,MAAV,KAAqB;AACtC,YAAMuB,UAAU,GAAG,IAAIC,UAAJ,EAAnB;AACAD,MAAAA,UAAU,CAACE,aAAX,CAAyBH,IAAzB;;AAEAC,MAAAA,UAAU,CAACG,MAAX,GAAoB,MAAM;AACxB9C,QAAAA,OAAO,CAAC2C,UAAU,CAAC7E,MAAZ,CAAP;AACD,OAFD;;AAIA6E,MAAAA,UAAU,CAACI,OAAX,GAAsBrD,KAAD,IAAW;AAC9B0B,QAAAA,MAAM,CAAC1B,KAAD,CAAN;AACD,OAFD;AAGD,KAXM,CAAP;AAYD,GAbH;;AAgBA,QAAMsD,QAAQ,GAAG,MAAOhE,CAAP,IAAY;AAGzB,UAAM0D,IAAI,GAAG1D,CAAC,CAACiE,KAAF,CAAQ,CAAR,CAAb;AACA,UAAMnB,MAAM,GAAG,MAAMW,aAAa,CAACC,IAAD,CAAlC;AACA1E,IAAAA,KAAK,CAACsC,OAAN,CAAcC,IAAd,CAAmB;AAACC,MAAAA,QAAQ,EAAC,SAAV;AAAqBC,MAAAA,OAAO,EAAE,WAA9B;AAA2CC,MAAAA,MAAM,EAAE,uBAAnD;AAA4EE,MAAAA,IAAI,EAAE;AAAlF,KAAnB;AAEAS,IAAAA,MAAM,CAACgB,aAAP,CAAqB,eAArB,EAAuCrD,CAAC,CAACiE,KAAF,CAAQ,CAAR,EAAWjC,IAAlD;AACAK,IAAAA,MAAM,CAACgB,aAAP,CAAqB,QAArB,EAAgCP,MAAhC;AACH,GATD;;AAaA,QAAMoB,iBAAiB,GAAIC,OAAD,IAAa;AACnC,wBAAO;AAAK,MAAA,GAAG,EAAG,GAAEC,SAAS,CAACC,cAAe,GAAEF,OAAO,CAACtB,aAAc,EAA9D;AACC,MAAA,OAAO,EAAG7C,CAAD,IAAOA,CAAC,CAACsE,MAAF,CAASC,GAAT,GAAa,uEAD9B;AAEC,MAAA,GAAG,EAAEJ,OAAO,CAACtB,aAFd;AAE6B,MAAA,KAAK,EAAE;AAAC2B,QAAAA,KAAK,EAAE,OAAR;AAAiBC,QAAAA,SAAS,EAAE;AAA5B;AAFpC;AAAA;AAAA;AAAA;AAAA,YAAP;AAGH,GAJD;;AAMA,QAAMC,kBAAkB,GAAIP,OAAD,IAAa;AACpC,WAASA,OAAO,CAACxB,SAAR,gBACL,QAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,8BAAd;AAAgC,MAAA,SAAS,EAAC;AAA1C;AAAA;AAAA;AAAA;AAAA,YADK,gBAEL,QAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,qBAAd;AAA4B,MAAA,SAAS,EAAC;AAAtC;AAAA;AAAA;AAAA;AAAA,YAFJ;AAGH,GAJD;;AAMA,QAAMgC,UAAU,GAAG1F,IAAI,IAAI;AACvB,QAAIA,IAAJ,EAAU;AACRF,MAAAA,SAAS,CAACE,IAAD,CAAT;AACD;AACF,GAJH;;AAKA,QAAM2F,WAAW,GAAGC,GAAG,IAAI;AACvBlE,IAAAA,OAAO,CAACD,KAAR,CAAcmE,GAAd;AACH,GAFD;;AAIA,sBACI,QAAC,KAAD;AAAO,IAAA,MAAM,EAAC,0BAAd;AAAA,4BACI,QAAC,KAAD;AAAO,MAAA,GAAG,EAAE7F;AAAZ;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA,+BACI,QAAC,MAAD;AAAQ,UAAA,KAAK,EAAC,SAAd;AAAqB,UAAA,IAAI,EAAC,YAA1B;AAAuC,UAAA,SAAS,EAAC,kBAAjD;AAAoE,UAAA,OAAO,EAAEoE;AAA7E;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAII;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA,+BACI,QAAC,MAAD;AAAQ,UAAA,KAAK,EAAC,UAAd;AAAoB,UAAA,IAAI,EAAC,cAAzB;AAAwC,UAAA,SAAS,EAAC,eAAlD;AAAkE,UAAA,OAAO,EAAEE;AAA3E;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAJJ,eAOI;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA,+BACI,QAAC,MAAD;AAAQ,UAAA,KAAK,EAAC,QAAd;AAAoB,UAAA,IAAI,EAAC,aAAzB;AAAuC,UAAA,SAAS,EAAC,iBAAjD;AAAmE,UAAA,OAAO,EAAExB;AAA5E;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,eAaI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,6BACI,QAAC,MAAD;AAAQ,QAAA,MAAM,EAAErC,QAAQ,GAAG,UAAH,GAAgB,UAAxC;AAAoD,QAAA,WAAW,MAA/D;AAAgE,QAAA,MAAM,EAAE,MAAMD,eAAe,CAAC,KAAD,CAA7F;AAAsG,QAAA,OAAO,EAAED,YAA/G;AAA6H,QAAA,MAAM,EAAE2D,MAArI;AAA8I,QAAA,WAAW,EAAE;AAAC,mBAAS,MAAV;AAAkB,mBAAS;AAA3B,SAA3J;AAAgM,QAAA,KAAK,EAAE;AAACsB,UAAAA,KAAK,EAAE;AAAR,SAAvM;AAAA,+BACI;AAAM,UAAA,QAAQ,EAAEnC,MAAM,CAACc,YAAvB;AAAqC,UAAA,SAAS,EAAC,SAA/C;AAAA,iCACI;AAAK,YAAA,SAAS,EAAC,QAAf;AAAA,oCACI;AAAK,cAAA,SAAS,EAAC,yBAAf;AAAA,yBACM,CAAC1D,QAAD,gBACE;AAAK,gBAAA,SAAS,EAAC,eAAf;AAAA,uCACI;AAAK,kBAAA,GAAG,EAAG,GAAE2E,SAAS,CAACC,cAAe,GAAEhF,YAAY,CAACwD,aAAc,EAAnE;AAAuE,kBAAA,SAAS,EAAC,4BAAjF;AACI,kBAAA,GAAG,EAAExD,YAAY,CAACwD,aADtB;AACqC,kBAAA,KAAK,EAAE;AAAC2B,oBAAAA,KAAK,EAAE,OAAR;AAAiBM,oBAAAA,MAAM,EAAE,MAAzB;AACJL,oBAAAA,SAAS,EAAE;AADP;AAD5C;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBADF,GAMC,EAPP,eAQI;AAAK,gBAAA,SAAS,EAAC,sBAAf;AAAA,wCACI;AAAO,kBAAA,SAAS,EAAC,mBAAjB;AAAA,4BAAsCpC,MAAM,CAAC0C,OAAP,CAAelC,aAAf,GAA8BR,MAAM,CAACW,MAAP,CAAcH,aAA5C,GAA2D;AAAjG;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,QAAC,UAAD;AAAY,kBAAA,IAAI,EAAC,MAAjB;AAAwB,kBAAA,GAAG,EAAC,uDAA5B;AACI,kBAAA,aAAa,EAAE,KADnB;AAC2B,kBAAA,KAAK,EAAE;AAAC2B,oBAAAA,KAAK,EAAE;AAAR,mBADlC;AAEI,kBAAA,QAAQ,EAAER,QAFd;AAEyB,kBAAA,MAAM,EAAC,SAFhC;AAE0C,kBAAA,WAAW,EAAE,OAFvD;AAGI,kBAAA,aAAa,eAAE;AAAG,oBAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHnB;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBARJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAiBI;AAAK,cAAA,SAAS,EAAC,wBAAf;AAAA,sCACI;AAAK,gBAAA,SAAS,EAAC,QAAf;AAAA,uCACI;AAAK,kBAAA,SAAS,EAAC,UAAf;AAAA,0CACI;AAAO,oBAAA,OAAO,EAAC,MAAf;AAAsB,oBAAA,KAAK,EAAC,QAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI,QAAC,SAAD;AAAW,oBAAA,EAAE,EAAC,MAAd;AAAqB,oBAAA,IAAI,EAAC,MAA1B;AAAiC,oBAAA,KAAK,EAAE3B,MAAM,CAAC2C,MAAP,CAAchD,IAAtD;AAA4D,oBAAA,QAAQ,EAAEK,MAAM,CAAC4C,YAA7E;AAA2F,oBAAA,SAAS;AAApG;AAAA;AAAA;AAAA;AAAA,0BAFJ,eAGI;AAAO,oBAAA,SAAS,EAAC,mBAAjB;AAAA,8BAAsC5C,MAAM,CAAC0C,OAAP,CAAe/C,IAAf,GAAqBK,MAAM,CAACW,MAAP,CAAchB,IAAnC,GAAyC;AAA/E;AAAA;AAAA;AAAA;AAAA,0BAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBADJ,eAQI;AAAK,gBAAA,SAAS,EAAC,eAAf;AAAA,uCACI;AAAK,kBAAA,SAAS,EAAC,UAAf;AAAA,0CACI;AAAO,oBAAA,OAAO,EAAC,WAAf;AAA2B,oBAAA,KAAK,EAAC,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI,QAAC,SAAD;AAAW,oBAAA,EAAE,EAAC,WAAd;AAA0B,oBAAA,KAAK,EAAEK,MAAM,CAAC2C,MAAP,CAAcvC,SAA/C;AAA0D,oBAAA,QAAQ,EAAEJ,MAAM,CAAC4C,YAA3E;AAAyF,oBAAA,SAAS;AAAlG;AAAA;AAAA;AAAA;AAAA,0BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBARJ,eAcI;AAAK,gBAAA,SAAS,EAAC,eAAf;AAAA,uCACI;AAAK,kBAAA,SAAS,EAAC,UAAf;AAAA,0CACI;AAAO,oBAAA,OAAO,EAAC,YAAf;AAA4B,oBAAA,KAAK,EAAC,QAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI,QAAC,QAAD;AACI,oBAAA,EAAE,EAAC,YADP;AAEI,oBAAA,IAAI,EAAC,YAFT;AAGI,oBAAA,WAAW,EAAE,gBAHjB;AAII,oBAAA,OAAO,EAAE9F,cAJb;AAKI,oBAAA,WAAW,EAAC,MALhB;AAMI,oBAAA,WAAW,EAAC,IANhB;AAAA,uBAOQkD,MAAM,CAAC6C,aAAP,CAAqB,YAArB,CAPR;AAQI,oBAAA,QAAQ,EAAGlF,CAAD,IAAO;AACbqC,sBAAAA,MAAM,CAAC4C,YAAP,CAAoBjF,CAApB;AACH,qBAVL;AAWI,oBAAA,SAAS,EAAC;AAXd;AAAA;AAAA;AAAA;AAAA,0BAFJ,eAgBI;AAAO,oBAAA,SAAS,EAAC,mBAAjB;AAAA,8BAAsCqC,MAAM,CAAC0C,OAAP,CAAenC,UAAf,GAA2BP,MAAM,CAACW,MAAP,CAAcJ,UAAzC,GAAqD;AAA3F;AAAA;AAAA;AAAA;AAAA,0BAhBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBAdJ,eAkCI;AAAK,gBAAA,SAAS,EAAC,eAAf;AAAA,wCACI;AAAK,kBAAA,SAAS,EAAC,SAAf;AAAA,0CACI;AAAO,oBAAA,OAAO,EAAC,YAAf;AAA4B,oBAAA,KAAK,EAAC,QAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI,QAAC,WAAD;AAAa,oBAAA,EAAE,EAAC,YAAhB;AAA6B,oBAAA,IAAI,EAAC,YAAlC;AAA+C,oBAAA,KAAK,EAAEP,MAAM,CAAC2C,MAAP,CAActC,UAApE;AACA,oBAAA,aAAa,EAAEL,MAAM,CAAC4C,YADtB;AACoC,oBAAA,IAAI,EAAC,SADzC;AACmD,oBAAA,SAAS,MAD5D;AAC6D,oBAAA,WAAW,MADxE;AACyE,oBAAA,GAAG,EAAE;AAD9E;AAAA;AAAA;AAAA;AAAA,0BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAMI;AAAK,kBAAA,SAAS,EAAC,gBAAf;AAAA,0CACI,QAAC,QAAD;AAAW,oBAAA,EAAE,EAAC,WAAd;AAA0B,oBAAA,QAAQ,EAAEjF,CAAC,IAAIJ,UAAU,CAACI,CAAC,CAACL,OAAH,CAAnD;AAAgE,oBAAA,OAAO,EAAEA;AAAzE;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI;AAAO,oBAAA,OAAO,EAAC,WAAf;AAA2B,oBAAA,SAAS,EAAC,kBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBANJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBAlCJ,eA6CI;AAAK,gBAAA,SAAS,EAAC,eAAf;AAAA,uCACI;AAAK,kBAAA,SAAS,EAAC,UAAf;AAAA,0CACI;AAAO,oBAAA,OAAO,EAAC,aAAf;AAA6B,oBAAA,SAAS,EAAC,kBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI,QAAC,aAAD;AAAe,oBAAA,KAAK,EAAE0C,MAAM,CAAC2C,MAAP,CAAcxC,WAApC;AACA,oBAAA,EAAE,EAAC,aADH;AAEA,oBAAA,QAAQ,EAAEH,MAAM,CAAC4C,YAFjB;AAGA,oBAAA,IAAI,EAAE,CAHN;AAGS,oBAAA,IAAI,EAAE,EAHf;AAGmB,oBAAA,UAAU;AAH7B;AAAA;AAAA;AAAA;AAAA,0BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBA7CJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAjBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAbJ,eA4FI;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA,+BACI,QAAC,SAAD;AAAW,UAAA,KAAK,EAAEhG,IAAlB;AAAwB,UAAA,SAAS,MAAjC;AAAkC,UAAA,IAAI,EAAE,CAAxC;AAA2C,UAAA,UAAU,MAArD;AAAsD,UAAA,YAAY,EAAC,OAAnE;AACI,UAAA,SAAS,EAAEI,YADf;AAEI,UAAA,iBAAiB,EAAEU,uBAFvB;AAGI,UAAA,aAAa,EAAC,QAHlB;AAII,UAAA,OAAO,EAAC,IAJZ;AAKI,UAAA,YAAY,EAAC,OALjB;AAMI,UAAA,QAAQ,EAAC,qBANb;AAOI,UAAA,YAAY,EAAC,mCAPjB;AAAA,kCAQI,QAAC,MAAD;AAAQ,YAAA,MAAM,EAAC,UAAf;AAAqB,YAAA,IAAI,EAAEmE;AAA3B;AAAA;AAAA;AAAA;AAAA,kBARJ,eASI,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,MAAd;AAAqB,YAAA,MAAM,EAAC,aAA5B;AAAuC,YAAA,QAAQ,MAA/C;AAAgD,YAAA,MAAM,MAAtD;AAAuD,YAAA,iBAAiB,EAAC;AAAzE;AAAA;AAAA;AAAA;AAAA,kBATJ,eAUI,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,YAAd;AAA2B,YAAA,MAAM,EAAC,2BAAlC;AAA+C,YAAA,QAAQ,MAAvD;AAAwD,YAAA,MAAM,MAA9D;AAA+D,YAAA,iBAAiB,EAAC;AAAjF;AAAA;AAAA;AAAA;AAAA,kBAVJ,eAWI,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,WAAd;AAA0B,YAAA,MAAM,EAAC,oBAAjC;AAA8C,YAAA,QAAQ,MAAtD;AAAuD,YAAA,IAAI,EAAEQ;AAA7D;AAAA;AAAA;AAAA;AAAA,kBAXJ,eAaI,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,aAAd;AAA4B,YAAA,MAAM,EAAC,kBAAnC;AAA8C,YAAA,IAAI,EAAGP,OAAD,IAAagB,gBAAgB,CAAChB,OAAO,CAACiB,WAAT,CAAjF;AAAwG,YAAA,QAAQ,MAAhH;AAAiH,YAAA,MAAM,MAAvH;AAAwH,YAAA,iBAAiB,EAAC;AAA1I;AAAA;AAAA;AAAA;AAAA,kBAbJ,eAcI,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,WAAd;AAA0B,YAAA,MAAM,EAAC,0BAAjC;AAA6C,YAAA,QAAQ,MAArD;AAAsD,YAAA,MAAM,MAA5D;AAA6D,YAAA,iBAAiB,EAAC;AAA/E;AAAA;AAAA;AAAA;AAAA,kBAdJ,eAeI,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,YAAd;AAA2B,YAAA,MAAM,EAAC,4BAAlC;AAAkD,YAAA,IAAI,EAAGjB,OAAD,IAAagB,gBAAgB,CAAChB,OAAO,CAACkB,UAAT,CAArF;AAA2G,YAAA,QAAQ,MAAnH;AAAoH,YAAA,MAAM,MAA1H;AAA2H,YAAA,iBAAiB,EAAC;AAA7I;AAAA;AAAA;AAAA;AAAA,kBAfJ,eAgBI,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,UAAd;AAAyB,YAAA,MAAM,EAAC,oCAAhC;AAAiD,YAAA,QAAQ,MAAzD;AAA0D,YAAA,MAAM,MAAhE;AAAiE,YAAA,iBAAiB,EAAC;AAAnF;AAAA;AAAA;AAAA;AAAA,kBAhBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YA5FJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAqHH;;GAxWuBxG,O;;KAAAA,O","sourcesContent":["import { Panel } from 'primereact/panel';\r\nimport React, { useState,useEffect,useRef } from 'react';\r\nimport QrReader from 'react-qr-reader'\r\n\r\nexport default function Receipt() {\r\n    const [result, setResult] = useState('Not Found');\r\n    \r\n    const toast = useRef(null);\r\n    const [data, setData] = useState({});\r\n    const [listCategories, setListCategories] = useState([]);\r\n    const [selectedList, setSelectedList] = useState({});\r\n    const [displayModal, setDisplayModal] = useState(false);\r\n    const [isInsert, setIsInsert] = useState(true);\r\n    const [checked, setChecked] = useState(false);\r\n\r\n    useEffect(() => {\r\n        reloadData();\r\n        getAllCateogries();\r\n    }, [])\r\n\r\n    const setSelectedRowCustomize = (e) => {\r\n        setSelectedList(e.value);\r\n    };\r\n    const getAllCateogries = () =>{\r\n        API.get('/api/admin/category', \r\n        {\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }})\r\n            .then((res) =>{\r\n                setListCategories(res.data.data);\r\n            })\r\n            .catch((error)=>{\r\n                console.log(error);\r\n        });\r\n    }\r\n    const wait= (ms) => {\r\n        return new Promise( (resolve) => {setTimeout(resolve, ms)});\r\n    }\r\n\r\n    const reloadData = async () =>{\r\n        API.get('/api/admin/movie', \r\n        {\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }})\r\n            .then( await  wait(1000))\r\n            .then((res) =>{\r\n                setData(res.data.data);\r\n                console.log(res.data.data);\r\n            })\r\n            .catch((error)=>{\r\n                console.log(error);\r\n        });\r\n        setSelectedList({});\r\n    }\r\n    \r\n    const deleteItem = () => {\r\n        API.post('/api/admin/movie/delete', [selectedList.id], \r\n        {\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }})\r\n            .then((res) =>{\r\n                if(res.data.ok){\r\n                    toast.current.show({severity:'success', summary: 'Thông báo', detail: res.data.message, life: 3000});\r\n                }else{\r\n                    toast.current.show({severity:'warn', summary: 'Thông báo', detail: res.data.message, life: 3000});\r\n                }\r\n                reloadData();\r\n            })\r\n            .catch((error)=>{\r\n                console.log(error);\r\n                toast.current.show({severity:'error', summary: 'Thông báo', detail:'Lỗi hệ thống', life: 3000});\r\n        });\r\n    }\r\n    const rejectFunc = () =>{\r\n\r\n    }\r\n\r\n    const confirm = () => {\r\n        if(selectedList.id == null){\r\n            toast.current.show({severity:'warn', summary: 'Thông báo', detail: 'Bạn chưa chọn dòng cần xoá.', life: 3000});\r\n        }else\r\n            confirmDialog({\r\n                message: 'Bạn có muốn xoá - Phim: '+selectedList.name+' ? ',\r\n                header: 'Thông báo',\r\n                icon: 'pi pi-exclamation-triangle',\r\n                accept: () => deleteItem(),\r\n                reject: () => rejectFunc()\r\n            });\r\n    }\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            id: '',\r\n            name: '',\r\n            description: '',\r\n            pathVideo: '',\r\n            screenTime: 0,\r\n            isShowing: true,\r\n            categoryId: '',\r\n            pathThumbnail : '',\r\n            base64: ''\r\n        },\r\n        validate: (data) => {\r\n            const errors = {};\r\n            if (!data.name) {\r\n                errors.name = 'Tên phim không được để trống.';\r\n            }\r\n            if(isInsert && !data.base64){\r\n                errors.pathThumbnail = 'Ảnh chưa được upload.';\r\n            }\r\n            if (!data.categoryId) {\r\n                errors.categoryId = 'Loại phim không được thiếu.';\r\n            }\r\n            return errors;\r\n        },\r\n        onSubmit: (data) => {\r\n            console.log(data);\r\n            data.isShowing = checked;\r\n            API.post('/api/admin/movie', data, \r\n            {\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n            }})\r\n                .then((res) =>{\r\n                    if(res.data.ok){\r\n                        toast.current.show({severity:'success', summary: 'Thông báo', detail: res.data.message, life: 3000});\r\n                        reloadData();\r\n                        setDisplayModal(false);\r\n                    }else{\r\n                        toast.current.show({severity:'warn', summary: 'Thông báo', detail: res.data.message, life: 3000});\r\n                    }\r\n                    \r\n                })\r\n                .catch((error)=>{\r\n                    console.log(error);\r\n                    toast.current.show({severity:'error', summary: 'Thông báo', detail:'Lỗi hệ thống', life: 3000});\r\n            });\r\n        }\r\n    });\r\n\r\n    const footer = (\r\n        <div>\r\n            <Button label={isInsert ? 'Thêm': 'Cập nhật'} icon=\"pi pi-check\" onClick={formik.handleSubmit}/>\r\n            <Button label=\"Huỷ\" icon=\"pi pi-times\" onClick={() =>setDisplayModal(false)}/>\r\n        </div>\r\n    );\r\n\r\n    const create = () =>{\r\n        setDisplayModal(true);\r\n        setIsInsert(true);\r\n        formik.setFieldValue('id' , '');\r\n        formik.setFieldValue('name' , '');\r\n        formik.setFieldValue('description' , '');\r\n        formik.setFieldValue('pathVideo' , '');\r\n        formik.setFieldValue('screenTime' , 1);\r\n        setChecked(false);\r\n        formik.setFieldValue('categoryId' , '');\r\n\r\n        formik.setFieldValue('pathThumbnail' , '');\r\n        formik.setFieldValue('base64' , '');\r\n        \r\n    };\r\n\r\n    const update = () =>{\r\n        if(selectedList.id == null){\r\n            toast.current.show({severity:'warn', summary: 'Thông báo', detail: 'Bạn chưa chọn dòng cần cập nhật.', life: 3000});\r\n        }else{\r\n            setDisplayModal(true);\r\n            setIsInsert(false);\r\n            formik.resetForm();\r\n\r\n            API.get('/api/admin/movie/'+selectedList.id, \r\n            {\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n            }})\r\n                .then((res) =>{\r\n                    console.log(res.data.data);\r\n                    formik.setFieldValue('id' , res.data.data[0].id);\r\n                    formik.setFieldValue('name' , res.data.data[0].name);\r\n                    formik.setFieldValue('description' , res.data.data[0].description);\r\n                    formik.setFieldValue('pathVideo' , res.data.data[0].pathVideo);\r\n                    formik.setFieldValue('screenTime' , res.data.data[0].screenTime);\r\n                    setChecked(res.data.data[0].isShowing);\r\n                    formik.setFieldValue('categoryId' , res.data.data[0].category[0].id);\r\n                })\r\n                .catch((error)=>{\r\n                    console.log(error);\r\n            });\r\n\r\n            formik.setFieldValue('pathThumbnail' , '');\r\n            formik.setFieldValue('base64' , '');\r\n        }\r\n    };\r\n    const convertBase64 = (file) => {\r\n        return new Promise((resolve, reject) => {\r\n          const fileReader = new FileReader();\r\n          fileReader.readAsDataURL(file);\r\n    \r\n          fileReader.onload = () => {\r\n            resolve(fileReader.result);\r\n          };\r\n    \r\n          fileReader.onerror = (error) => {\r\n            reject(error);\r\n          };\r\n        });\r\n      };\r\n    \r\n\r\n    const onUpload = async (e) =>{\r\n        \r\n\r\n        const file = e.files[0];\r\n        const base64 = await convertBase64(file);\r\n        toast.current.show({severity:'success', summary: 'Thông báo', detail: 'Upload ảnh thành công', life: 3000});\r\n\r\n        formik.setFieldValue('pathThumbnail' , e.files[0].name);\r\n        formik.setFieldValue('base64' , base64);\r\n    }\r\n    \r\n    \r\n\r\n    const imageBodyTemplate = (rowData) => {\r\n        return <img src={`${APPCONFIG.BASE_URL_IMAGE}${rowData.pathThumbnail}`} \r\n                onError={(e) => e.target.src='https://www.primefaces.org/wp-content/uploads/2020/05/placeholder.png'} \r\n                alt={rowData.pathThumbnail} style={{width: '100px', boxShadow: '0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)'}} />;\r\n    }\r\n\r\n    const statusBodyTemplate = (rowData) => {\r\n        return ( rowData.isShowing ?\r\n            <Button label=\"Đang công chiếu\" className=\"p-button-warning\" /> : \r\n            <Button label=\"Không chiếu\" className=\"p-button-info\" />);\r\n    }\r\n\r\n    const handleScan = data => {\r\n        if (data) {\r\n          setResult(data);\r\n        }\r\n      }\r\n    const handleError = err => {\r\n        console.error(err)\r\n    }\r\n\r\n    return (\r\n        <Panel header=\"Danh sách các phim\">\r\n            <Toast ref={toast} />\r\n            <div className=\"p-grid\">\r\n                <div className=\"p-field p-mr-2\">\r\n                    <Button label=\"Thêm\" icon=\"pi pi-plus\" className=\"p-button-success\" onClick={create}/>\r\n                </div>\r\n                <div className=\"p-field p-mr-2\">\r\n                    <Button label=\"Sửa\" icon=\"pi pi-pencil\" className=\"p-button-info\" onClick={update}/>\r\n                </div>\r\n                <div className=\"p-field p-mr-2\">\r\n                    <Button label=\"Xoá\" icon=\"pi pi-times\" className=\"p-button-danger\" onClick={confirm}/>\r\n                </div>\r\n            </div>\r\n            <div className=\"p-grid\">\r\n                <Dialog header={isInsert ? 'Thêm mới' : 'Cập nhật'} maximizable onHide={() => setDisplayModal(false)} visible={displayModal} footer={footer}  breakpoints={{'960px': '75vw', '640px': '100vw'}} style={{width: '50vw'}}>\r\n                    <form onSubmit={formik.handleSubmit} className=\"p-fluid\">\r\n                        <div className=\"p-grid\">\r\n                            <div className=\"p-field p-mt-4 p-col-6 \">\r\n                                { !isInsert ?(\r\n                                    <div className=\"p-grid p-mb-5\" >\r\n                                        <img src={`${APPCONFIG.BASE_URL_IMAGE}${selectedList.pathThumbnail}`}  className=\"p-mt-3 p-mb-3 center-image\"\r\n                                            alt={selectedList.pathThumbnail} style={{width: '200px', height: 'auto', \r\n                                                                                boxShadow: '0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23)'}} />\r\n                                    </div>\r\n                                ): \"\"}\r\n                                <div className=\"p-grid p-mr-1 p-ml-1\">\r\n                                    <small className=\"p-error p-d-block\">{formik.touched.pathThumbnail? formik.errors.pathThumbnail: ''}</small>\r\n                                    <FileUpload name=\"demo\" url=\"https://primefaces.org/primereact/showcase/upload.php\" \r\n                                        uploadOptions={false}  style={{width: '100%'}}\r\n                                        onUpload={onUpload}  accept=\"image/*\" maxFileSize={1000000}\r\n                                        emptyTemplate={<p className=\"p-m-0\">Kéo thả ảnh vào đây để upload</p>} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"p-field p-mt-4 p-col-6\">\r\n                                <div className=\"p-grid\">\r\n                                    <div className='p-col-12'>\r\n                                        <label htmlFor=\"name\" class=\"p-mb-2\">Tên phim</label>\r\n                                        <InputText id=\"name\" name=\"name\" value={formik.values.name} onChange={formik.handleChange} autoFocus />\r\n                                        <small className=\"p-error p-d-block\">{formik.touched.name? formik.errors.name: ''}</small>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"p-grid p-mt-3\">\r\n                                    <div className='p-col-12'>\r\n                                        <label htmlFor=\"pathVideo\" class=\"p-mb-2\">Link video youtube</label>\r\n                                        <InputText id=\"pathVideo\" value={formik.values.pathVideo} onChange={formik.handleChange} autoFocus />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"p-grid p-mt-3\">\r\n                                    <div className='p-col-12'>\r\n                                        <label htmlFor=\"categoryId\" class=\"p-mb-2\">Thể loại</label>\r\n                                        <Dropdown\r\n                                            id=\"categoryId\"\r\n                                            name=\"categoryId\"\r\n                                            placeholder={'Chọn loại phim'}\r\n                                            options={listCategories}\r\n                                            optionLabel=\"name\"\r\n                                            optionValue=\"id\"\r\n                                            {...formik.getFieldProps('categoryId')}\r\n                                            onChange={(e) => {\r\n                                                formik.handleChange(e);\r\n                                            }}\r\n                                            className=\"p-inputtext-sm\"\r\n                                        />\r\n                                        \r\n                                        <small className=\"p-error p-d-block\">{formik.touched.categoryId? formik.errors.categoryId: ''}</small>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"p-grid p-mt-3\">\r\n                                    <div className='p-col-6'>\r\n                                        <label htmlFor=\"screenTime\" class=\"p-mb-2\">Thời lượng phim(phút)</label>\r\n                                        <InputNumber id=\"screenTime\" name=\"screenTime\" value={formik.values.screenTime} \r\n                                        onValueChange={formik.handleChange} mode=\"decimal\" autoFocus showButtons min={1}/>\r\n                                    </div>\r\n                                    <div className='p-col-6 p-mt-5'>\r\n                                        <Checkbox  id=\"isShowing\" onChange={e => setChecked(e.checked)} checked={checked}></Checkbox>\r\n                                        <label htmlFor=\"isShowing\" className=\"p-checkbox-label\"> Đang công chiếu</label>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"p-grid p-mt-3\">\r\n                                    <div className=\"p-col-12\">\r\n                                        <label htmlFor=\"description\" className=\"p-checkbox-label\">Mô tả</label>\r\n                                        <InputTextarea value={formik.values.description}\r\n                                        id=\"description\" \r\n                                        onChange={formik.handleChange}\r\n                                        rows={5} cols={30} autoResize />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </Dialog>\r\n            </div>\r\n            <div className=\"datatable-templating-demo\">\r\n                <div className=\"card\">\r\n                    <DataTable value={data} paginator rows={3} scrollable scrollHeight=\"500px\"\r\n                        selection={selectedList} \r\n                        onSelectionChange={setSelectedRowCustomize} \r\n                        selectionMode=\"single\" \r\n                        dataKey=\"id\"\r\n                        stateStorage=\"local\" \r\n                        stateKey=\"dt-state-demo-local\"\r\n                        emptyMessage=\"Không có phim nào nào\">\r\n                        <Column header=\"Ảnh\" body={imageBodyTemplate}></Column>    \r\n                        <Column field=\"name\" header=\"Tên phim\" sortable filter filterPlaceholder=\"Search by name\"></Column>\r\n                        <Column field=\"screenTime\" header=\"Thời lượng\" sortable filter filterPlaceholder=\"Search by name\"></Column>\r\n                        <Column field=\"isShowing\" header=\"Trạng thái\" sortable body={statusBodyTemplate}></Column>\r\n                       \r\n                        <Column field=\"createdDate\" header=\"Ngày tạo\" body={(rowData) => toDateTimeString(rowData.createdDate)} sortable filter filterPlaceholder=\"Search by name\"></Column>\r\n                        <Column field=\"createdBy\" header=\"Người tạo\" sortable filter filterPlaceholder=\"Search by name\"></Column>\r\n                        <Column field=\"updateDate\" header=\"Ngày cập nhật\" body={(rowData) => toDateTimeString(rowData.updateDate)} sortable filter filterPlaceholder=\"Search by name\"></Column>\r\n                        <Column field=\"updateBy\" header=\"Người cập nhật\" sortable filter filterPlaceholder=\"Search by name\"></Column>\r\n                    </DataTable>\r\n                </div>\r\n            </div>\r\n        </Panel>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}