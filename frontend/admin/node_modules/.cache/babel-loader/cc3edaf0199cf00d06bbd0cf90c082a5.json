{"ast":null,"code":"var _jsxFileName = \"P:\\\\Thuc-tap\\\\GreenMovie-V3.0\\\\frontend\\\\admin\\\\src\\\\containers\\\\Categories\\\\Category.js\",\n    _s = $RefreshSig$();\n\nimport { Panel } from 'primereact/panel';\nimport React, { useState, useEffect, useRef } from 'react';\nimport API from '../utils/request';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { toDateTimeString } from \"../utils/date\";\nimport { Button } from 'primereact/button';\nimport { Toast } from 'primereact/toast';\nimport { confirmDialog } from 'primereact/confirmdialog';\nimport { Dialog } from 'primereact/dialog';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Category = () => {\n  _s();\n\n  const toast = useRef(null);\n  const [data, setData] = useState({});\n  const [selectedList, setSelectedList] = useState({});\n  const [displayModal, setDisplayModal] = useState(false);\n  useEffect(() => {\n    reloadData();\n  }, []);\n\n  const setSelectedRowCustomize = e => {\n    setSelectedList(e.value);\n  };\n\n  const reloadData = () => {\n    API.get('/api/admin/category', {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(res => {\n      setData(res.data.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const deleteItem = () => {\n    API.post('/api/admin/category/delete', [selectedList.id], {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(res => {\n      if (res.data.ok) {\n        toast.current.show({\n          severity: 'success',\n          summary: 'Thông báo',\n          detail: res.data.message,\n          life: 3000\n        });\n      } else {\n        toast.current.show({\n          severity: 'warn',\n          summary: 'Thông báo',\n          detail: res.data.message,\n          life: 3000\n        });\n      }\n\n      reloadData();\n    }).catch(error => {\n      console.log(error);\n      toast.current.show({\n        severity: 'error',\n        summary: 'Thông báo',\n        detail: 'Lỗi hệ thống',\n        life: 3000\n      });\n    });\n  };\n\n  const rejectFunc = () => {};\n\n  const confirm = () => {\n    confirmDialog({\n      message: 'Bạn có muốn xoá \\\"' + selectedList.name + '\\\" ? ',\n      header: 'Thông báo',\n      icon: 'pi pi-exclamation-triangle',\n      accept: () => deleteItem(),\n      reject: () => rejectFunc()\n    });\n  };\n\n  const footer = /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      label: \"Yes\",\n      icon: \"pi pi-check\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      label: \"No\",\n      icon: \"pi pi-times\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n\n  const myIcon = /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"p-dialog-titlebar-icon p-link\",\n    children: /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"pi pi-search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n\n  const createCategory = () => {};\n\n  return /*#__PURE__*/_jsxDEV(Panel, {\n    header: \"Danh s\\xE1ch th\\u1EC3 lo\\u1EA1i phim\",\n    children: [/*#__PURE__*/_jsxDEV(Toast, {\n      ref: toast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-field p-mr-2\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          label: \"Th\\xEAm\",\n          icon: \"pi pi-plus\",\n          className: \"p-button-success\",\n          onClick: createCategory\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-field p-mr-2\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          label: \"S\\u1EEDa\",\n          icon: \"pi pi-pencil\",\n          className: \"p-button-info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-field p-mr-2\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          label: \"Xo\\xE1\",\n          icon: \"pi pi-times\",\n          className: \"p-button-danger\",\n          onClick: confirm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-grid\",\n      children: /*#__PURE__*/_jsxDEV(Dialog, {\n        visible: displayModal,\n        onHide: onHide,\n        breakpoints: {\n          '960px': '75vw',\n          '640px': '100vw'\n        },\n        style: {\n          width: '50vw'\n        },\n        children: \"Content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(DataTable, {\n        value: data,\n        paginator: true,\n        rows: 10,\n        selection: selectedList,\n        onSelectionChange: setSelectedRowCustomize,\n        selectionMode: \"single\",\n        dataKey: \"id\",\n        stateStorage: \"local\",\n        stateKey: \"dt-state-demo-local\",\n        resizableColumns: true,\n        emptyMessage: \"Kh\\xF4ng c\\xF3 th\\u1EC3 lo\\u1EA1i n\\xE0o\",\n        children: [/*#__PURE__*/_jsxDEV(Column, {\n          field: \"name\",\n          header: \"T\\xEAn th\\u1EC3 lo\\u1EA1i\",\n          sortable: true,\n          filter: true,\n          filterPlaceholder: \"Search by name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"createdDate\",\n          header: \"Ng\\xE0y t\\u1EA1o\",\n          body: rowData => toDateTimeString(rowData.createdDate),\n          sortable: true,\n          filter: true,\n          filterPlaceholder: \"Search by name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"createdBy\",\n          header: \"Ng\\u01B0\\u1EDDi t\\u1EA1o\",\n          sortable: true,\n          filter: true,\n          filterPlaceholder: \"Search by name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"updateDate\",\n          header: \"Ng\\xE0y c\\u1EADp nh\\u1EADt\",\n          body: rowData => toDateTimeString(rowData.updateDate),\n          sortable: true,\n          filter: true,\n          filterPlaceholder: \"Search by name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          field: \"updateBy\",\n          header: \"Ng\\u01B0\\u1EDDi c\\u1EADp nh\\u1EADt\",\n          sortable: true,\n          filter: true,\n          filterPlaceholder: \"Search by name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Category, \"71r+n2DS9/bkw41plek1f/kbN4E=\");\n\n_c = Category;\nexport default Category;\n\nvar _c;\n\n$RefreshReg$(_c, \"Category\");","map":{"version":3,"sources":["P:/Thuc-tap/GreenMovie-V3.0/frontend/admin/src/containers/Categories/Category.js"],"names":["Panel","React","useState","useEffect","useRef","API","DataTable","Column","toDateTimeString","Button","Toast","confirmDialog","Dialog","Category","toast","data","setData","selectedList","setSelectedList","displayModal","setDisplayModal","reloadData","setSelectedRowCustomize","e","value","get","headers","localStorage","getItem","then","res","catch","error","console","log","deleteItem","post","id","ok","current","show","severity","summary","detail","message","life","rejectFunc","confirm","name","header","icon","accept","reject","footer","myIcon","createCategory","onHide","width","rowData","createdDate","updateDate"],"mappings":"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","sourcesContent":["import { Panel } from 'primereact/panel';\r\nimport React, { useState,useEffect,useRef } from 'react';\r\nimport API from '../utils/request'\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { toDateTimeString } from \"../utils/date\";\r\nimport { Button } from 'primereact/button';\r\nimport { Toast } from 'primereact/toast';\r\nimport { confirmDialog } from 'primereact/confirmdialog';\r\nimport { Dialog } from 'primereact/dialog';\r\n\r\nconst Category = () => {\r\n    const toast = useRef(null);\r\n    const [data, setData] = useState({});\r\n    const [selectedList, setSelectedList] = useState({});\r\n    const [displayModal, setDisplayModal] = useState(false);\r\n\r\n    useEffect(() => {\r\n        reloadData();\r\n    }, [])\r\n\r\n    const setSelectedRowCustomize = (e) => {\r\n        setSelectedList(e.value);\r\n    };\r\n    \r\n    const reloadData = () =>{\r\n        API.get('/api/admin/category', \r\n        {\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }})\r\n            .then((res) =>{\r\n                setData(res.data.data);\r\n            })\r\n            .catch((error)=>{\r\n                console.log(error);\r\n        });\r\n    }\r\n    \r\n    const deleteItem = () => {\r\n        API.post('/api/admin/category/delete', [selectedList.id], \r\n        {\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }})\r\n            .then((res) =>{\r\n                if(res.data.ok){\r\n                    toast.current.show({severity:'success', summary: 'Thông báo', detail: res.data.message, life: 3000});\r\n                }else{\r\n                    toast.current.show({severity:'warn', summary: 'Thông báo', detail: res.data.message, life: 3000});\r\n                }\r\n                reloadData();\r\n            })\r\n            .catch((error)=>{\r\n                console.log(error);\r\n                toast.current.show({severity:'error', summary: 'Thông báo', detail:'Lỗi hệ thống', life: 3000});\r\n        });\r\n    }\r\n    const rejectFunc = () =>{\r\n\r\n    }\r\n\r\n    const confirm = () => {\r\n        confirmDialog({\r\n            message: 'Bạn có muốn xoá \\\"'+selectedList.name+'\\\" ? ',\r\n            header: 'Thông báo',\r\n            icon: 'pi pi-exclamation-triangle',\r\n            accept: () => deleteItem(),\r\n            reject: () => rejectFunc()\r\n        });\r\n    }\r\n\r\n    const footer = (\r\n        <div>\r\n            <Button label=\"Yes\" icon=\"pi pi-check\"/>\r\n            <Button label=\"No\" icon=\"pi pi-times\"/>\r\n        </div>\r\n    );\r\n    \r\n    const myIcon = (\r\n        <button className=\"p-dialog-titlebar-icon p-link\">\r\n            <span className=\"pi pi-search\"></span>\r\n        </button>\r\n    )\r\n\r\n    const createCategory = () =>{\r\n\r\n    }\r\n\r\n    return (\r\n        <Panel header=\"Danh sách thể loại phim\">\r\n            <Toast ref={toast} />\r\n            <div className=\"p-grid\">\r\n                <div className=\"p-field p-mr-2\">\r\n                    <Button label=\"Thêm\" icon=\"pi pi-plus\" className=\"p-button-success\" onClick={createCategory}/>\r\n                </div>\r\n                <div className=\"p-field p-mr-2\">\r\n                    <Button label=\"Sửa\" icon=\"pi pi-pencil\" className=\"p-button-info\"/>\r\n                </div>\r\n                <div className=\"p-field p-mr-2\">\r\n                    <Button label=\"Xoá\" icon=\"pi pi-times\" className=\"p-button-danger\" onClick={confirm}/>\r\n                </div>\r\n            </div>\r\n            <div className=\"p-grid\">\r\n                <Dialog visible={displayModal} onHide={onHide} breakpoints={{'960px': '75vw', '640px': '100vw'}} style={{width: '50vw'}}>\r\n                    Content\r\n                </Dialog>\r\n            </div>\r\n            <div className=\"card\">\r\n                    <DataTable value={data} paginator rows={10}\r\n                        selection={selectedList} \r\n                        onSelectionChange={setSelectedRowCustomize} \r\n                        selectionMode=\"single\" \r\n                        dataKey=\"id\"\r\n                        stateStorage=\"local\" \r\n                        stateKey=\"dt-state-demo-local\"\r\n                        resizableColumns\r\n                        emptyMessage=\"Không có thể loại nào\">\r\n                        <Column field=\"name\" header=\"Tên thể loại\" sortable filter filterPlaceholder=\"Search by name\"></Column>\r\n                        <Column field=\"createdDate\" header=\"Ngày tạo\" body={(rowData) => toDateTimeString(rowData.createdDate)} sortable filter filterPlaceholder=\"Search by name\"></Column>\r\n                        <Column field=\"createdBy\" header=\"Người tạo\" sortable filter filterPlaceholder=\"Search by name\"></Column>\r\n                        <Column field=\"updateDate\" header=\"Ngày cập nhật\" body={(rowData) => toDateTimeString(rowData.updateDate)} sortable filter filterPlaceholder=\"Search by name\"></Column>\r\n                        <Column field=\"updateBy\" header=\"Người cập nhật\" sortable filter filterPlaceholder=\"Search by name\"></Column>\r\n                    </DataTable>\r\n            </div>\r\n        </Panel>\r\n    )\r\n}\r\nexport default Category;"]},"metadata":{},"sourceType":"module"}